---
import BaseLayout from "../layouts/BaseLayout.astro";
import MainHero from "../components/MainHero.astro";
import Featured from "../components/Featured.astro";
import LastBlogPost from "../components/LastBlogPost.astro";
const pageTitle = "امیرحسین کیان فرد";
const allPosts = await Astro.glob("../pages/posts/*.md");
const uniqueTags = [
	...new Set(allPosts.map((post) => post.frontmatter.tags).flat()),
].sort();
---

<BaseLayout pageTitle={pageTitle}>
	<MainHero />
	<main>
		<!--featured-->
		<Featured />
		<!--blog-->
		<div class="flex flex-col max-w-screen-xl mx-4 lg:mx-auto">
			<h2
				class="p-4 my-8 text-xl font-extrabold leading-none text-center text-orange-600 bg-white rounded-lg shadow dark:bg-gray-800 md:text-2xl font-vazir dark:text-orange-500"
			>
				آخرین مطالب بلاگ 📰
			</h2>
			<div
				class="flex flex-row-reverse gap-8 my-8 max-sm:flex-col-reverse"
			>
				<!--blog posts-->
				<LastBlogPost />
				<!--blog tags-->
				<div
					class="flex flex-col items-center gap-4 align-middle font-vazir basis-1/4 justify-stretch"
					id="sticky-side"
				>
					<h2
						class="w-full p-4 text-xl font-extrabold leading-none text-center text-orange-600 bg-white rounded-lg shadow dark:bg-gray-800 md:text-2xl font-vazir dark:text-orange-500"
					>
						دسته بندی مطالب
					</h2>
					<ul
						class="flex flex-col w-full gap-4 text-sm font-medium text-center text-gray-900 bg-gray-100 shadow dark:bg-darkenblue dark:text-white"
					>
						{
							uniqueTags.map((tag) => (
								<li class="w-full px-4 py-2 my-0 bg-white rounded-lg dark:bg-gray-800 hover:bg-gray-100 dark:border-gray-700 dark:hover:bg-gray-700">
									{tag}
								</li>
							))
						}
					</ul>
				</div>
			</div>
		</div>
		<!--pagination-->
		<div
			class="flex flex-row justify-end max-w-screen-xl mx-4 lg:mx-auto font-iransans"
		>
			<a
				href="blog-archive.html"
				class="flex items-center justify-center h-10 px-4 text-base font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-orange-600 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-orange-500"
			>
				همه مطالب
				<svg
					class="w-3.5 h-3.5 ms-2 rtl:rotate-180"
					aria-hidden="true"
					xmlns="http://www.w3.org/2000/svg"
					fill="none"
					viewBox="0 0 14 10"
				>
					<path
						stroke="currentColor"
						stroke-linecap="round"
						stroke-linejoin="round"
						stroke-width="2"
						d="M1 5h12m0 0L9 1m4 4L9 9"></path>
				</svg>
			</a>
		</div>
	</main>
</BaseLayout>
